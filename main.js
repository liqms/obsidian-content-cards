/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var y=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var J=Object.getOwnPropertyNames;var K=Object.prototype.hasOwnProperty;var O=(o,e)=>{for(var s in e)y(o,s,{get:e[s],enumerable:!0})},Q=(o,e,s,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of J(e))!K.call(o,r)&&r!==s&&y(o,r,{get:()=>e[r],enumerable:!(t=z(e,r))||t.enumerable});return o};var U=o=>Q(y({},"__esModule",{value:!0}),o);var it={};O(it,{default:()=>H});module.exports=U(it);var j=require("obsidian");var g=o=>{let e=o.trim();return e.length===0?"\u200B":e};var E=o=>(o=o.trim(),o[0]!="["||o[o.length-1]!="]"?[]:o.substring(1,o.length-1).trim().split(/\s*,\s*/)),V=/^[ \t]*@card(.+?)(?:^[ \t]*time:(.+?))?(?:^[ \t]*title:(.+?))?(?:^[ \t]*content:(.+?))?(?=^[ \t]*@card)/gimsu,f=o=>{o+=`
@card`;let e,s=[];for(;(e=V.exec(o))!==null;){let t=E(e[1]);s.push({color:t[0],time:e[2],title:e[3],content:e[4]})}return s},W=/^[ \t]*@card(.+?)(?:^(.+?))?(?=^[ \t]*@card)/gimsu,N=o=>{o+=`
@card`;let e,s=[];for(;(e=W.exec(o))!==null;){let t=E(e[1]);s.push({color:t[0],content:e[2]})}return s},Z=/^[ \t]*@card(.+?)(?:^[ \t]*title:(.+?))?(?:^[ \t]*value:(.+?))?(?:^[ \t]*unit:(.+?))?(?=^[ \t]*@card)/gimsu,S=o=>{o+=`
@card`;let e,s=[];for(;(e=Z.exec(o))!==null;){let t=E(e[1]);s.push({color:t[0],title:e[2],value:e[3],unit:e[4]})}return s},_=/^[ \t]*@card(.+?)(?:^[ \t]*title:(.+?))?(?:^[ \t]*cover:(.+?))?(?:^[ \t]*meta:(.+?))?(?:^[ \t]*introduction:(.+?))?(?=^[ \t]*@card)/gimsu,B=o=>{o+=`
@card`;let e,s=[];for(;(e=_.exec(o))!==null;)s.push({title:e[2],cover:g(e[3]),meta:e[4],introduction:e[5]});return s},tt=/^[ \t]*@card(.+?)(?:^[ \t]*title:(.+?))?(?:^[ \t]*cover:(.+?))?(?:^[ \t]*meta:(.+?))?(?=^[ \t]*@card)/gimsu,R=o=>{o+=`
@card`;let e,s=[];for(;(e=tt.exec(o))!==null;)s.push({title:e[2],cover:g(e[3]),meta:e[4]});return s},et=/^[ \t]*@card(.+?)(?:^[ \t]*title:(.+?))?(?:^[ \t]*cover:(.+?))?(?:^[ \t]*meta:(.+?))?(?:^[ \t]*introduction:([\s\S]*))?(?=^[ \t]*@card)/gimsu,F=o=>{o+=`
@card`;let e,s=[];for(;(e=et.exec(o))!==null;)s.push({title:e[2],cover:g(e[3]),meta:e[4],introduction:e[5]});return s},st=/^[ \t]*@card(.+?)(?:^[ \t]*title:(.+?))?(?:^[ \t]*images:(.+?))?(?=^[ \t]*@card)/gimsu,G=o=>{o+=`
@card`;let e,s=[];for(;(e=st.exec(o))!==null;){let t=E(e[1]);s.push({color:t[0],title:e[2],images:e[3]})}return s},rt=/^[ \t]*@card(.+?)?(?=^[ \t]*@card)/gimsu,X=o=>{o+=`
@card`;let e,s=[];for(;(e=rt.exec(o))!==null;)s.push({content:e[1]});return s},ot=/^[ \t]*@card(.+?)(?:^[ \t]*name:(.+?))?(?:^[ \t]*tags:(.+?))?(?:^[ \t]*remark:(.+?))?(?=^[ \t]*@card)/gimsu,ct=o=>(o=o.trim(),o[0]==null?[]:o.substring(o.length-1,o.length).trim().split(/\s*,\s*/)),Y=o=>{o+=`
@card`;let e,s=[];for(;(e=ot.exec(o))!==null;){let t=E(e[1]),r=ct(e[2]);s.push({color:t[0],name:e[2],icon:r[0],tags:e[3],remark:e[4]})}return s},nt=/^[ \t]*@card(.+?)(?:^[ \t]*title:(.+?))?(?:^[ \t]*type:(.+?))?(?:^[ \t]*time:(.+?))?(?=^[ \t]*@card)/gimsu,$=o=>{o+=`
@card`;let e,s=[];for(;(e=nt.exec(o))!==null;){let t=E(e[1]);s.push({color:t[0],title:e[2],type:g(e[3]),time:g(e[4])})}return s};var x=require("obsidian"),d=class{constructor(e,s,t,r){this.app=r,this.context=t,this.content=e,this.itemEl=s,this.createItemEl(e,t,r)}createItemEl(e,s,t){var c;this.itemEl=this.itemEl.createDiv();let r=new x.MarkdownRenderChild(this.itemEl);x.MarkdownRenderer.render(this.app,e,this.itemEl,(c=this.context)==null?void 0:c.sourcePath,r)}};var C=class{constructor(e,s,t,r){s.className="container",this.app=r,this.context=t,this.source=e,this.element=s,this.cardsEl=this.createCardsEl()}createCardsEl(){let e=f(this.source),s=this.element;return s.classList.add("timeline-v"),e.forEach(t=>{let r=s.createDiv({cls:"timeline-v-item"}),c=r.createDiv({cls:"vertical-line"}),n=r.createDiv({cls:"timeline-v-time",text:t.time}),a=r.createDiv({cls:"timeline-v-content"});new d(t.title,a,this.context,this.app).itemEl.classList.add("timeline-v-title","description"),new d(t.content,a,this.context,this.app).itemEl.classList.add("timeline-v-description","description"),t.color!==null&&t.color!==void 0?(c.classList.add("line-v-"+t.color),a.classList.add("line-v-body-"+t.color)):(c.classList.add("line-v-color-active"),a.classList.add("line-v-body-color-active"))}),s}};var v=class{constructor(e,s,t,r){var c,n;s.className="container",this.app=r,this.context=t,this.source=e,this.element=s,this.cardNum=(n=(c=e.match(/@card/gi))==null?void 0:c.length)!=null?n:1,this.cardsEl=this.createCardsEl()}createCardsEl(){let e=f(this.source),s=this.element;return s.classList.add("timeline-h"),this.cardNum>0&&this.element.classList.add("column-"+this.cardNum),e.forEach(t=>{let r=s.createDiv({cls:"timeline-h-item"}),c=r.createDiv({cls:"timeline-h-time",text:t.time}),n=r.createDiv({cls:"timeline-h-hr"}),a=r.createDiv({cls:"timeline-h-content"});new d(t.title,a,this.context,this.app).itemEl.classList.add("timeline-h-title","description"),new d(t.content,a,this.context,this.app).itemEl.classList.add("timeline-h-description","description"),t.color!==null&&t.color!==void 0?(n.classList.add("line-h-"+t.color),a.classList.add("body-"+t.color)):(n.classList.add("line-h-color-active"),a.classList.add("body-color-active"))}),s}};var L=class{constructor(e,s,t,r){s.className="container",this.app=r,this.context=t,this.source=e,this.element=s,this.cardsEl=this.createCardsEl()}createCardsEl(){let e=N(this.source),s=this.element;return s.classList.add("highlightblock"),e.forEach(t=>{let r=new d(t.content,s,this.context,this.app);r.itemEl.classList.add("highlightblock-item"),t.color!==null&&t.color!==void 0?r.itemEl.classList.add("body-"+t.color):r.itemEl.classList.add("body-color-active")}),s}};var M=class{constructor(e,s,t,r){s.className="container",this.app=r,this.context=t,this.source=e,this.element=s,this.cardsEl=this.createCardsEl()}createCardsEl(){let e=S(this.source),s=this.element;return s.classList.add("target-card"),e.forEach(t=>{let r=s.createDiv({cls:"target-card-item"}),c=r.createDiv({cls:"target-card-item-title",text:t.title}),n=r.createDiv({cls:"target-card-item-content"}),a=n.createSpan({cls:"target-card-item-content-num",text:t.value}),i=n.createSpan({cls:"target-card-item-content-unit",text:t.unit});t.color!==null&&t.color!==void 0?r.classList.add("body-"+t.color):r.classList.add("body-color-active")}),s}};var w=class{constructor(e,s,t,r){s.className="container",this.app=r,this.context=t,this.source=e,this.element=s,this.cardsEl=this.createCardsEl()}createCardsEl(){let e=B(this.source),s=this.element;return e.forEach(t=>{let r=s.createDiv({cls:"bookcard-item"}),c=document.createElement("style"),n=document.createTextNode(".bookcard-item::before { background-image: url("+t.cover+");}");c.appendChild(n),document.body.appendChild(c);let a=r.createDiv({cls:"bookcard-main"}),i=a.createDiv({cls:"bookcard-main-info"}),l=i.createDiv({cls:"bookcard-info-cover"}).createEl("img");l.src=t.cover,l.alt="cover",l.referrerPolicy="no-referrer";let m=i.createDiv({cls:"bookcard-info-content"});m.createDiv({cls:"bookcard-info-content-title",text:t.title}).classList.add("description"),new d(t.meta,m,this.context,this.app).itemEl.classList.add("bookcard-info-content-meta"),new d(t.introduction,a,this.context,this.app).itemEl.classList.add("bookcard-main-introduction","description")}),s}};var P=class{constructor(e,s,t,r){s.className="container",this.app=r,this.context=t,this.source=e,this.element=s,this.cardsEl=this.createCardsEl()}createCardsEl(){let e=R(this.source),s=this.element;return e.forEach(t=>{let r=s.createDiv({cls:"musiccard-item"}),c=document.createElement("style"),n=document.createTextNode(".musiccard-item::before { background-image: url("+t.cover+");}");c.appendChild(n),document.body.appendChild(c);let i=r.createDiv({cls:"musiccard-main"}).createDiv({cls:"musiccard-main-info"}),l=i.createDiv({cls:"musiccard-info-cover"}).createEl("img");l.src=t.cover,l.alt="cover",l.referrerPolicy="no-referrer";let m=i.createDiv({cls:"musiccard-info-content"});m.createDiv({cls:"musiccard-info-content-title",text:t.title}).classList.add("description"),new d(t.meta,m,this.context,this.app).itemEl.classList.add("musiccard-info-content-meta")}),s}};var k=class{constructor(e,s,t,r){s.className="container",this.app=r,this.context=t,this.source=e,this.element=s,this.cardsEl=this.createCardsEl()}createCardsEl(){let e=F(this.source),s=this.element;return e.forEach(t=>{let r=s.createDiv({cls:"moviecard-item"}),c=document.createElement("style"),n=document.createTextNode(".moviecard-item::before { background-image: url("+t.cover+");}");c.appendChild(n),document.body.appendChild(c);let a=r.createDiv({cls:"moviecard-main"}),i=a.createDiv({cls:"moviecard-main-info"}),l=i.createDiv({cls:"moviecard-info-cover"}).createEl("img");l.src=t.cover,l.alt="cover",l.referrerPolicy="no-referrer";let m=i.createDiv({cls:"moviecard-info-content"});m.createDiv({cls:"moviecard-info-content-title",text:t.title}).classList.add("description"),new d(t.meta,m,this.context,this.app).itemEl.classList.add("moviecard-info-content-meta"),new d(t.introduction,a,this.context,this.app).itemEl.classList.add("moviecard-main-introduction","description")}),s}};var b=class{constructor(e,s,t,r){s.className="container",this.app=r,this.context=t,this.source=e,this.element=s,this.cardsEl=this.createCardsEl()}createCardsEl(){let e=G(this.source),s=this.element;s.classList.add("album");for(let t=0;t<e.length;t++){let r=this.toImagesArray(e[t].images),c=s.createDiv();c.classList.add("container","album-item");let n=c.createDiv({cls:"album-item-title",text:e[t].title});e[t].color!==null&&e[t].color!==void 0?n.classList.add("body-"+e[t].color):n.classList.add("body-color-active");for(let a=0;a<r.length;a++){let i=c.createDiv();i.classList.add("container","album-item-images");let u=this.toImagesArrayItems(r[a]),l=u.length;i.classList.add("grid-"+l),u.forEach(m=>{let h=i.createDiv({cls:"album-item-images-item"}).createEl("img");h.src=m,h.alt="",h.referrerPolicy="no-referrer"})}}return s}toImagesArray(e){let s=/^\s*$/gim;return e==null?[]:e.split(s)}toImagesArrayItems(e){let s=/\n/;return e=e.trim(),e.split(s)}};var T=class{constructor(e,s,t,r){var c,n;s.className="container",this.app=r,this.context=t,this.source=e,this.element=s,this.cardNum=(n=(c=e.match(/@card/gi))==null?void 0:c.length)!=null?n:1,this.cardsEl=this.createCardsEl()}createCardsEl(){let e=X(this.source),s=this.element;return s.classList.add("subfield"),this.cardNum>0&&s.classList.add("column-"+this.cardNum),e.forEach(t=>{new d(t.content,s,this.context,this.app).itemEl.classList.add("subfield-item")}),s}};var I=class{constructor(e,s,t,r){s.className="container",this.app=r,this.context=t,this.source=e,this.element=s,this.cardsEl=this.createCardsEl()}createCardsEl(){let e=Y(this.source),s=this.element;return s.classList.add("namecard"),e.forEach(t=>{let r=s.createDiv({cls:"namecard-item"}),c=r.createDiv({cls:"namecard-item-info"}),a=c.createDiv({cls:"namecard-item-profile"}).createDiv({cls:"namecard-item-profile-img",text:t.icon}),i=c.createDiv({cls:"namecard-item-content"}),u=i.createDiv({cls:"namecard-item-content-name",text:t.name}),l=i.createDiv({cls:"namecard-item-content-tags",text:t.tags});r.createDiv({cls:"namecard-item-remark",text:t.remark}).classList.add("description"),l.classList.add("description"),t.color!==null&&t.color!==void 0?(r.classList.add("body-"+t.color),a.classList.add("accent-"+t.color)):(r.classList.add("body-color-active"),a.classList.add("accent-color-active"))}),s}};var D=class{constructor(e,s,t,r){s.className="container",this.app=r,this.context=t,this.source=e,this.element=s,this.timeCount=[0,0,0],this.currentTime=[0,0,0],this.targetTime=[0,0,0],this.timeCountStr=["0","0","0"],this.cardsEl=this.createCardsEl()}createCardsEl(){let e=$(this.source),s=this.element;return s.classList.add("countdown"),e.forEach(t=>{let r=s.createDiv({cls:"countdown-item"}),c=r.createDiv({cls:"countdown-item-title"});c.createSpan({text:"\u8DDD\u79BB "}),c.createSpan({cls:"countdown-item-count-title",text:t.title}),c.createSpan({text:" \u8FD8\u6709"});let n=r.createDiv({cls:"countdown-item-count"});if(this.timeCountStr=this.getTimeCountStr(t.type,t.time),t.type==="day"){let a=n.createDiv({cls:"countdown-item-count-num",text:this.timeCountStr[0]}),i=n.createDiv({cls:"countdown-item-count-unit",text:"\u5E74"}),u=n.createDiv({cls:"countdown-item-count-num",text:this.timeCountStr[1]}),l=n.createDiv({cls:"countdown-item-count-unit",text:"\u6708"}),m=n.createDiv({cls:"countdown-item-count-num",text:this.timeCountStr[2]}),p=n.createDiv({cls:"countdown-item-count-unit",text:"\u65E5"});t.color!==null&&t.color!==void 0?(a.classList.add("accent-"+t.color),u.classList.add("accent-"+t.color),m.classList.add("accent-"+t.color),i.classList.add("text-"+t.color),l.classList.add("text-"+t.color),p.classList.add("text-"+t.color)):(a.classList.add("accent-color-active"),u.classList.add("accent-color-active"),m.classList.add("accent-color-active"),i.classList.add("text-color-active"),l.classList.add("text-color-active"),p.classList.add("text-color-active"))}else if(t.type==="sec"){let a=n.createDiv({cls:"countdown-item-count-num",text:this.timeCountStr[0]}),i=n.createDiv({cls:"countdown-item-count-unit",text:"\u65F6"}),u=n.createDiv({cls:"countdown-item-count-num",text:this.timeCountStr[1]}),l=n.createDiv({cls:"countdown-item-count-unit",text:"\u5206"}),m=n.createDiv({cls:"countdown-item-count-num",text:this.timeCountStr[2]}),p=n.createDiv({cls:"countdown-item-count-unit",text:"\u79D2"});t.color!==null&&t.color!==void 0?(a.classList.add("accent-"+t.color),u.classList.add("accent-"+t.color),m.classList.add("accent-"+t.color),i.classList.add("text-"+t.color),l.classList.add("text-"+t.color),p.classList.add("text-"+t.color)):(a.classList.add("accent-color-active"),u.classList.add("accent-color-active"),m.classList.add("accent-color-active"),i.classList.add("text-color-active"),l.classList.add("text-color-active"),p.classList.add("text-color-active"))}else n.createDiv({cls:"countdown-item-count-unit",text:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u65F6\u95F4\u7C7B\u578B: day \u6216 sec"});t.color!==null&&t.color!==void 0?r.classList.add("body-"+t.color):r.classList.add("body-color-active")}),s}getTimeCountStr(e,s){if(e=="day"){this.targetTime=s.match(/(\d{4})-(\d{2})-(\d{2})/);let t=[this.targetTime[1],this.targetTime[2],this.targetTime[3]],r=[new Date().getFullYear(),new Date().getMonth()+1,new Date().getDate()],c=(t[0]-r[0])*365+(t[1]-r[1])*30+(t[2]-r[2]);c>0?(this.timeCount[0]=Math.floor(c/365),this.timeCount[1]=Math.floor(c%365/30),this.timeCount[2]=Math.floor(c%30)):this.timeCount=[0,0,0]}else if(e=="sec"){this.targetTime=s.match(/(\d{2}):(\d{2}):(\d{2})/);let t=[this.targetTime[1],this.targetTime[2],this.targetTime[3]],r=[new Date().getHours(),new Date().getMinutes(),new Date().getSeconds()],c=(t[0]-r[0])*60*60+(t[1]-r[1])*60+(t[2]-r[2]);c>0?(this.timeCount[0]=Math.floor(c/60/60),this.timeCount[1]=Math.floor(c%60/60),this.timeCount[2]=Math.floor(c%60)):this.timeCount=[0,0,0]}else this.timeCount=[0,0,0];return this.timeCount.forEach(t=>{this.timeCountStr=this.timeCount.map(r=>this.toString(r))}),this.timeCountStr}toString(e){return e.toString()}};var A=class{constructor(e,s,t,r,c){switch(this.source=s,this.app=c,this.context=r,this.element=t,e){case"cards-timeline-v":new C(s,t,r,this.app);break;case"cards-timeline-h":new v(s,t,r,this.app);break;case"cards-highlightblock":new L(s,t,r,this.app);break;case"cards-target":new M(s,t,r,this.app);break;case"cards-book":new w(s,t,r,this.app);break;case"cards-music":new P(s,t,r,this.app);break;case"cards-movie":new k(s,t,r,this.app);break;case"cards-album":new b(s,t,r,this.app);break;case"cards-subfield":new T(s,t,r,this.app);break;case"cards-name":new I(s,t,r,this.app);break;case"cards-countdown":new D(s,t,r,this.app);break;default:break}}};var at=["cards-timeline-v","cards-timeline-h","cards-highlightblock","cards-target","cards-book","cards-music","cards-movie","cards-album","cards-subfield","cards-name","cards-countdown"],H=class extends j.Plugin{async onload(){at.forEach(e=>{this.registerMarkdownCodeBlockProcessor(e,(s,t,r)=>{new A(e,s,t,r,this.app)})}),console.log("loading content cards plugin")}async onunload(){console.log("unloading content cards plugin")}};
